---
YamlDesc: CONTENT-ARTICLE
Title: Java MultiThreding Synchronization
MetaDescription: Java MultiThreding Synchronization
MetaKeywords: Java MultiThreding Thread Synchronization
Author: Venkata Bhattaram / tinitiate.com
ContentName: multithreading-thread-communication
---

# Thread Class Thread Communication
* Java provides mechanisms for threads to communicate with each other, this is
  useful where there are parent-child threads, event-based operations among 
  multiple threads.
* Thread Communication helps solve problem of polling, which is continously 
  looking to wait for an event in inter-thread communication.
* wait(): This method tells the calling thread to give up the monitor and
          go to sleep until some other thread enters the same monitor 
          and calls notify().
* notify(): This method wakes up the first thread that called wait() on 
            the same object.
* notifyAll(): This method wakes up all the threads that called wait()
               on the same object. The highest priority thread will run first.
* **Synchronized** Keyword 
 * This enables different threads reading and writing to the same variables
   ,objects and resources.
 * In a multithreaded environment when each thread try to access a common or 
   a shared resource such as a Variable or Object The **Synchronized** Keyword 
   will enable this.

   
## Demonstration of Thread Communication using Thread Class
* The following code has **TWO** classes **EvenOrOdd** and **ThreadCommunication**
* Class **EvenOrOdd**
  * This has two methods `EvenOddChecker` this checks if the given number 
    is Even or ODD while the the method `RandomNumber` supplies that 
    number by using Random.
  * Both the methods are **Synchronized**
* Class **ThreadCommunication**
  * This class creates an object of the class `EvenOrOdd`, and calls both 
    the methods `EvenOddChecker()` and `RandomNumber()`
```
package tinitiate.java.multithreading;

import java.util.Random;

// Class with following methods
// RandomNumber()
// Generates a number and stores to the Class variable CurrNumber 

// EvenOdd Class
// This Synchronized method EvenOddChecker checks if the number generated by 
// the Random Number method
class EvenOrOdd extends Thread {

    // Common Variables used and changed by both threads
    boolean flag = true;
    static int CurrNumber = 0;
    int counter = 0;
    
    // RandomNumber
    // This function generates a RandomNumber and assigns to the CurrNumber
    synchronized void RandomNumber() throws InterruptedException {

        if (flag) {
            Random rNum = new Random();
            CurrNumber = rNum.nextInt(1000);
    
            System.out.println("Generated Number: " + CurrNumber);
            flag = false;
            wait();
        }
    }


    // EvenOddChecker
    // this checks if the given number is Even or ODD while the the 
    // method RandomNumber
    synchronized void EvenOddChecker() throws InterruptedException {

        if (!flag) {
            if (CurrNumber%2 == 0) {
                System.out.println("EvenOddChecker: " + CurrNumber + " is EVEN.");
            } else {
                System.out.println("EvenOddChecker: " + CurrNumber + " is ODD.");
            }
            flag = true;
            notifyAll();
        }    
    }
}


// ThreadCommunication Class
// This Class runs the methods RandomNumber and EvenOddChecker of the 
// EvenOrOdd in separate threads.
public class ThreadCommunication extends Thread {

    public static void main(String[] args) throws InterruptedException {

        // Create the Object of the Thread Class
        EvenOrOdd Obj = new EvenOrOdd();
        
        // Launch Thread for RandomNumber()
        // ================================
        new Thread() {
        public void run() {
            while (true) {
                try { Obj.RandomNumber(); Obj.counter++;  } catch (InterruptedException e) {}
                if (Obj.counter == 5) { break; }
            }
        }
        }.start();

        // Launch Thread for EvenOddChecker()
        // ==================================
        new Thread() {
        public void run() {
            while (true) {
                try { Obj.EvenOddChecker(); } catch (InterruptedException e) {}
                if (Obj.counter == 5) { break; }
            }
        }
        }.start();

    }
}
```
